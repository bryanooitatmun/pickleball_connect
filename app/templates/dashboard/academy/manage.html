{% extends "dashboard/base.html" %}

{% block dashboard_content %}
<div class="mb-6">
  <h1 class="text-2xl font-bold text-gray-800">Academy Management</h1>
  <p class="text-gray-600">Configure your academy details, coaches, and payment information</p>
</div>

<div class="bg-white rounded-xl shadow-sm p-6 mb-6">
  <h3 class="text-lg font-semibold text-gray-800 mb-6">Academy Information</h3>
  
  <form id="academy-form">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
      <div>
        <label for="academy-name" class="block text-gray-700 font-medium mb-2">Academy Name*</label>
        <input type="text" id="academy-name" name="name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
      </div>
      <div>
        <label for="academy-website" class="block text-gray-700 font-medium mb-2">Website</label>
        <input type="url" id="academy-website" name="website" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>
    </div>

    <div class="mb-6">
      <label for="academy-description" class="block text-gray-700 font-medium mb-2">Description*</label>
      <textarea id="academy-description" name="description" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required></textarea>
    </div>

    <div class="mb-6">
      <label class="block text-gray-700 font-medium mb-2">Academy Logo</label>
      <div class="flex items-center space-x-4">
        <div class="h-32 w-32 border border-gray-200 rounded-lg overflow-hidden" id="logo-preview-container">
          <img id="academy-logo-preview" src="" alt="Academy Logo" class="h-full w-full object-contain hidden">
          <div id="logo-placeholder" class="h-full w-full flex items-center justify-center bg-gray-100">
            <i class="fas fa-image text-gray-400 text-3xl"></i>
          </div>
        </div>
        <div>
          <input type="file" id="academy-logo" name="logo" accept="image/*" class="hidden">
          <button type="button" id="upload-logo-btn" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none">
            <i class="fas fa-upload mr-2"></i>Upload Logo
          </button>
          <button type="button" id="remove-logo-btn" class="ml-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none hidden">
            <i class="fas fa-trash mr-2"></i>Remove
          </button>
          <p class="text-sm text-gray-500 mt-2">Recommended: Square image, at least 300x300px</p>
        </div>
      </div>
    </div>

    <div class="mb-6">
      <label class="block text-gray-700 font-medium mb-2">Academy Tags</label>
      <div class="flex flex-wrap gap-2 mb-2" id="academy-tags-container">
        <!-- Existing tags will be displayed here -->
      </div>
      <div class="flex space-x-2">
        <input type="text" id="new-tag-input" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Add a new tag">
        <button type="button" id="add-tag-btn" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none">
          Add Tag
        </button>
      </div>
    </div>

    <div class="mb-6">
      <label for="private-url-code" class="block text-gray-700 font-medium mb-2">Private URL Code</label>
      <div class="flex space-x-2">
        <input type="text" id="private-url-code" name="private_url_code" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" readonly>
        <button type="button" id="generate-url-btn" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none">
          Generate New
        </button>
      </div>
      <p class="text-sm text-gray-500 mt-1">Used for academy-specific URLs</p>
    </div>

    <button type="submit" class="bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 focus:outline-none">
      Save Academy Information
    </button>
  </form>
</div>

<div class="bg-white rounded-xl shadow-sm p-6 mb-6">
  <h3 class="text-lg font-semibold text-gray-800 mb-6">Payment Information</h3>
  
  <form id="payment-form">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
      <div>
        <label for="bank-name" class="block text-gray-700 font-medium mb-2">Bank Name</label>
        <input type="text" id="bank-name" name="bank_name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>
      <div>
        <label for="account-name" class="block text-gray-700 font-medium mb-2">Account Name</label>
        <input type="text" id="account-name" name="account_name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>
      <div>
        <label for="account-number" class="block text-gray-700 font-medium mb-2">Account Number</label>
        <input type="text" id="account-number" name="account_number" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>
      <div>
        <label for="payment-reference" class="block text-gray-700 font-medium mb-2">Payment Reference</label>
        <input type="text" id="payment-reference" name="payment_reference" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>
    </div>

    <div class="mb-6">
      <label for="court-payment-details" class="block text-gray-700 font-medium mb-2">Court Payment Details</label>
      <textarea id="court-payment-details" name="court_payment_details" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="If students need to pay for courts to a different account, provide details here"></textarea>
    </div>

    <button type="submit" class="bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 focus:outline-none">
      Save Payment Information
    </button>
  </form>
</div>

<div class="bg-white rounded-xl shadow-sm p-6 mb-6">
  <div class="flex items-center justify-between mb-6">
    <h3 class="text-lg font-semibold text-gray-800">Academy Coaches</h3>
    <button id="add-coach-btn" class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 focus:outline-none">
      <i class="fas fa-plus mr-2"></i> Add Coach
    </button>
  </div>
  
  <div id="coaches-container">
    <!-- Coach list will appear here -->
    <div class="text-center py-12 text-gray-500">
      <p>No coaches added yet</p>
    </div>
  </div>
</div>

<div class="bg-white rounded-xl shadow-sm p-6 mb-6">
  <div class="flex items-center justify-between mb-6">
    <h3 class="text-lg font-semibold text-gray-800">Coach Roles</h3>
    <button id="add-role-btn" class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 focus:outline-none">
      <i class="fas fa-plus mr-2"></i> Add Role
    </button>
  </div>
  
  <div id="roles-container">
    <!-- Role list will appear here -->
    <div class="text-center py-12 text-gray-500">
      <p>No roles defined yet</p>
    </div>
  </div>
</div>

<!-- Include academy management modals -->
{% include 'dashboard/partials/modals/add_coach_modal.html' %}
{% include 'dashboard/partials/modals/edit_role_modal.html' %}
{% include 'dashboard/partials/modals/remove_coach_modal.html' %}
{% endblock %}